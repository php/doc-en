<?xml version="1.0" encoding="utf-8"?>
<sect1 xml:id="migration85.windows-support">
 <title>Windows Support</title>

 <sect2 xml:id="migration85.windows-support.core">
  <title>Core</title>

  <simpara>
   The configuration variables <constant>PHP_VERSION</constant>,
   <constant>PHP_MINOR_VERSION</constant>, and
   <constant>PHP_RELEASE_VERSION</constant> are now always numbers.
   Previously, they have been strings for buildconf builds.
  </simpara>

  <simpara>
   <command>phpize</command> builds now reflect the source tree in the
   build dir (as it already worked for in-tree builds); some extension
   builds (especially when using Makefile.frag.w32) may need adjustments.
  </simpara>

  <simpara>
   <option role="configure">--enable-sanitizer</option> is now supported
   for MSVC builds.  This enables ASan and debug assertions, and is supported
   as of MSVC 16.10 and Windows 10.
  </simpara>

  <simpara>
   The <option role="configure">--with-uncritical-warn-choke</option>
   configuration option for clang builds is no longer supported.
   Select warnings to suppress via CFLAGS instead.
  </simpara>

 </sect2>

 <sect2 xml:id="migration85.windows-support.com">
  <title>COM</title>

  <simpara>
   The extension is now build shared by default; previously it defaulted to a
   static extension, although the official Windows binaries built a shared
   extension.
  </simpara>

 </sect2>

 <sect2 xml:id="migration85.windows-support.ffi">
  <title>FFI</title>

  <simpara>
   It is no longer necessary to specify the library when using
   <methodname>FFI::cdef</methodname> and <methodname>FFI::load</methodname>.
   However, this convenience feature should not be used in production.
  </simpara>

 </sect2>

 <sect2 xml:id="migration85.windows-support.streams">
  <title>Streams</title>

  <simpara>
   If only pipe streams are contained in the <parameter>$read</parameter>
   array, and the <parameter>$write</parameter> and
   <parameter>$except</parameter> arrays are empty,
   <function>stream_select</function> now behaves similar to POSIX systems,
   i.e. the function only returns if at least one pipe is ready to be read,
   or after the timeout expires.
   Previously, <function>stream_select</function> returned immediately,
   reporting all streams as ready to read.
  </simpara>

 </sect2>

</sect1>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
