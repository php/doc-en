<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 348008 $ -->

<sect1 xml:id="migration80.new-functions">
 <title>New Functions</title>

 <sect2 xml:id="migration80.new-functions.core">
  <title>PHP Core</title>

  <para>
   <function>get_resource_id</function>, which returns the same value as
   <code>(int) $resource</code>. It provides the same functionality under a clearer API.
  </para>
 </sect2>

 <sect2 xml:id="migration80.new-functions.ldap">
  <title>LDAP</title>

  <para>
   <function>ldap_count_references</function>, which returns the number of reference messages in a
   search result.
  </para>
 </sect2>

 <sect2 xml:id="migration80.new-functions.openssl">
  <title>OpenSSL</title>

  <itemizedlist>
   <listitem>
    <para>
     <function>openssl_cms_encrypt</function> encrypts the message in the file with the certificates
     and outputs the result to the supplied file.
    </para>
   </listitem>
   <listitem>
    <para>
     <function>openssl_cms_decrypt</function> that decrypts the S/MIME message in the file and outputs
     the results to the supplied file.
    </para>
   </listitem>
   <listitem>
    <para>
     <function>openssl_cms_read</function> that exports the CMS file to an array of PEM certificates.
    </para>
   </listitem>
   <listitem>
    <para>
     <function>openssl_cms_sign</function> that signs the MIME message in the file with a cert and key
     and output the result to the supplied file.
    </para>
   </listitem>
   <listitem>
    <para>
     <function>openssl_cms_verify</function> that verifies that the data block is intact, the signer
     is who they say they are, and returns the certs of the signers.
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2 xml:id="migration80.new-functions.pcre">
  <title>Regular Expressions (Perl-Compatible)</title>

  <para>
   <function>preg_last_error_msg</function>, which returns a human-readable message for the last
   PCRE error. It complements <function>preg_last_error</function>, which returns an integer enum
   instead.
  </para>
 </sect2>

 <sect2 xml:id="migration80.new-functions.sqlite3">
  <title>SQLite3</title>

  <para>
   <methodname>SQLite3::setAuthorizer</methodname> and respective class constants to set a userland
   callback that will be used to authorize or not an action on the database.
   <!-- PR: https://github.com/php/php-src/pull/4797 -->
  </para>
 </sect2>

 <sect2 xml:id="migration80.new-functions.standard">
  <title>Standard Library</title>

  <itemizedlist>
   <listitem>
    <para>
     <function>str_contains</function>, <function>str_starts_with</function> and
     <function>str_ends_with</function>, which check whether <parameter>haystack</parameter> contains,
     starts with or ends with <parameter>needle</parameter>, respectively.
     <!-- RFC: https://wiki.php.net/rfc/str_contains -->
     <!-- RFC: https://wiki.php.net/rfc/add_str_starts_with_and_ends_with_functions -->
    </para>
   </listitem>
   <listitem>
    <para>
     <function>fdiv</function>, which performs a floating-point division under IEEE 754 semantics.
     Division by zero is considered well-defined and will return one of <literal>Inf</literal>,
     <literal>-Inf</literal> or <literal>NaN</literal>.
    </para>
   </listitem>
   <listitem>
    <para>
     <function>get_debug_type</function>, which returns a type useful for error messages. Unlike
     <function>gettype</function>, it uses canonical type names, returns class names for objects, and
     indicates the resource type for resources.
     <!-- RFC: https://wiki.php.net/rfc/get_debug_type -->
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2 xml:id="migration80.new-functions.zip">
  <title>Zip</title>

  <itemizedlist>
   <listitem>
    <para>
     <methodname>ZipArchive::setMtimeName</methodname> and
     <methodname>ZipArchive::setMtimeIndex</methodname> to set the modification time of an entry.
    </para>
   </listitem>
   <listitem>
    <para>
     <methodname>ZipArchive::setProgressCallback</methodname> to provide updates during archive close.
    </para>
   </listitem>
   <listitem>
    <para>
     <methodname>ZipArchive::setCancelCallback</methodname> to allow cancellation during archive
     close.
    </para>
   </listitem>
   <listitem>
    <para>
     <methodname>ZipArchive::replaceFile</methodname> to replace an entry content.
    </para>
   </listitem>
   <listitem>
    <para>
     <methodname>ZipArchive::isCompressionMethodSupported</methodname> to check optional compression
     features.
    </para>
   </listitem>
   <listitem>
    <para>
     <methodname>ZipArchive::isEncryptionMethodSupported</methodname> to check optional encryption
     features.
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

</sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
