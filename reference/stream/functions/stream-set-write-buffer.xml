<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision$ -->
<!-- splitted from ./en/functions/filesystem.xml, last change in rev 1.2 -->
<refentry xml:id="function.stream-set-write-buffer" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>stream_set_write_buffer</refname>
  <refpurpose>Sets file buffering on the given stream</refpurpose>
 </refnamediv>
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>int</type><methodname>stream_set_write_buffer</methodname>
   <methodparam><type>resource</type><parameter>stream</parameter></methodparam>
   <methodparam><type>int</type><parameter>buffer</parameter></methodparam>
  </methodsynopsis>
  <para>
   Sets the buffering for write operations on the given <parameter>stream</parameter>
   to <parameter>buffer</parameter> bytes.
  </para>
  <simpara>
   Output using <function>fwrite</function> is normally buffered at
   8K.  This means that if there are two processes wanting to write
   to the same output stream (a file), each is paused after 8K of
   data to allow the other to write.
  </simpara>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>stream</parameter></term>
     <listitem>
      <para>
       The file pointer.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>buffer</parameter></term>
     <listitem>
      <para>
       The number of bytes to buffer. If <parameter>buffer</parameter>
       is 0 then write operations are unbuffered.  This ensures that all writes
       with <function>fwrite</function> are completed before other processes are
       allowed to write to that output stream.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Returns 0 on success, or <acronym>EOF</acronym> if the request cannot be honored.
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title><function>stream_set_write_buffer</function> example</title>
    <para>
     The following example demonstrates how to use
     <function>stream_set_write_buffer</function> to create an unbuffered stream.
    </para>
    <programlisting role="php">
<![CDATA[
<?php
$fp = fopen($file, "w");
if ($fp) {
  stream_set_write_buffer($fp, 0);
  fwrite($fp, $output);
  fclose($fp);
}
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <simplelist>
   <member><function>fopen</function></member>
   <member><function>fwrite</function></member>
  </simplelist>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
