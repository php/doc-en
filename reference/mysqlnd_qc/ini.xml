<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->

<section xml:id="mysqlnd-qc.configuration" xmlns="http://docbook.org/ns/docbook">
 &reftitle.runtime;
 &extension.runtime;
 <para>
  <table>
   <title>mysqlnd_qc &ConfigureOptions;</title>
   <tgroup cols="4">
    <thead>
     <row>
      <entry>&Name;</entry>
      <entry>&Default;</entry>
      <entry>&Changeable;</entry>
      <entry>&Changelog;</entry>
     </row>
    </thead>
    <tbody xml:id="mysqlnd-qc.configuration.list">
     <row>
      <entry><link linkend="ini.mysqlnd-qc.enable-qc">mysqlnd_qc.enable_qc</link></entry>
      <entry>1</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.ttl">mysqlnd_qc.ttl</link></entry>
      <entry>30</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.cache-by-default">mysqlnd_qc.cache_by_default</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.cache-no-table">mysqlnd_qc.cache_no_table</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.use-request-time">mysqlnd_qc.use_request_time</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.time-statistics">mysqlnd_qc.time_statistics</link></entry>
      <entry>1</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.collect-statistics">mysqlnd_qc.collect_statistics</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.collect-statistics-log-file">mysqlnd_qc.collect_statistics_log_file</link></entry>
      <entry>/tmp/mysqlnd_qc.stats</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.collect-query-trace">mysqlnd_qc.collect_query_trace</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.query-trace-bt-depth">mysqlnd_qc.query_trace_bt_depth</link></entry>
      <entry>3</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.collect-normalized-query-trace">mysqlnd_qc.collect_normalized_query_trace</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.ignore-sql-comments">mysqlnd_qc.ignore_sql_comments</link></entry>
      <entry>1</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.slam-defense">mysqlnd_qc.slam_defense</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.slam-defense-ttl">mysqlnd_qc.slam_defense_ttl</link></entry>
      <entry>30</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.std-data-copy">mysqlnd_qc.std_data_copy</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.apc-prefix">mysqlnd_qc.apc_prefix</link></entry>
      <entry>qc_</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.memc-server">mysqlnd_qc.memc_server</link></entry>
      <entry>127.0.0.1</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.memc-port">mysqlnd_qc.memc_port</link></entry>
      <entry>11211</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
     <row>
      <entry><link linkend="ini.mysqlnd-qc.sqlite-data-file">mysqlnd_qc.sqlite_data_file</link></entry>
      <entry>:memory:</entry>
      <entry>PHP_INI_ALL</entry>
      <entry><!-- leave empty, this will be filled by an automatic script -->
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </para>

 &ini.descriptions.title;

 <para>
  <variablelist>
   <varlistentry xml:id="ini.mysqlnd-qc.enable-qc">
    <term>
     <parameter>mysqlnd_qc.enable_qc</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Enables or disables the plugin. If disabled the extension will not plug
      into
      <link linkend="book.mysqlnd">mysqlnd</link> to proxy internal
      <link linkend="book.mysqlnd">mysqlnd</link> C API calls.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.ttl">
    <term>
     <parameter>mysqlnd_qc.ttl</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
             Default Time-to-Live (TTL) for cache entries in seconds.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.cache-by-default">
    <term>
     <parameter>mysqlnd_qc.cache_by_default</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Cache all queries regardless if they begin with the SQL hint that
      enables caching of a query or not. Storage handler cannot overrule
      the setting. It is evaluated by the core of the plugin.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.cache-no-table">
    <term>
     <parameter>mysqlnd_qc.cache_no_table</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Whether to cache queries with no table name in any of columns meta data
      of their result set, for example,
      <literal>SELECT SLEEP(1)</literal>, <literal>SELECT NOW()</literal>,
      <literal>SELECT SUBSTRING()</literal>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.use-request-time">
    <term>
     <parameter>mysqlnd_qc.use_request_time</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Use PHP global request time to avoid
      <literal>gettimeofday()</literal> system calls?
      If using
      <literal>APC</literal> storage handler
      it should be set to the value of
      <literal>apc.use_request_time</literal>, if not
      warnings will be generated.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.time-statistics">
    <term>
     <parameter>mysqlnd_qc.time_statistics</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Collect run time and store time statistics using
      <literal>gettimeofday()</literal> system call? Data will be
      collected only if you also set
      <literal>mysqlnd_qc.collect_statistics = 1</literal>,
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.collect-statistics">
    <term>
     <parameter>mysqlnd_qc.collect_statistics</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Collect statistics for
      <function>mysqlnd_qc_get_core_stats</function>?
      Does not influence storage handler statistics! Handler statistics
      can be an integral part of the handler internal storage format.
      Therefore, collection of some handler statistics cannot be disabled.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.collect-statistics-log-file">
    <term>
     <parameter>mysqlnd_qc.collect_statistics-log-file</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      If <literal>mysqlnd_qc.collect_statistics</literal> and
      <literal>mysqlnd_qc.collect_statistics_log_file</literal>
      are set, the plugin will dump statistics into the specified
      log file at every 10th web request during PHP request shutdown.
      The log file needs to be writable by the web server user.
     </para>
     <para>
      Since 1.1.0.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.collect-query-trace">
    <term>
     <parameter>mysqlnd_qc.collect_query_trace</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Collect query back traces?
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.query-trace-bt-depth">
    <term>
     <parameter>mysqlnd_qc.query_trace_bt_depth</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Maximum depth/level of a query code backtrace.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.ignore-sql-comments">
    <term>
     <parameter>mysqlnd_qc.ignore_sql_comments</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Whether to remove SQL comments from a query string before
      hashing it to generate a cache key. Disable if you do not want
      two statemts such as <literal>SELECT /*my_source_ip=123*/ id FROM test</literal>
      and <literal>SELECT /*my_source_ip=456*/ id FROM test</literal> to refer
      to the same cache entry.
     </para>
     <para>
      Since 1.1.0.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.slam-defense">
    <term>
     <parameter>mysqlnd_qc.slam_defense</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Activates handler based slam defense (cache stampeding protection) if available.
      Supported by
      <literal>Default</literal> and
      <literal>APC</literal> storage handler
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.slam-defense-ttl">
    <term>
     <parameter>mysqlnd_qc.slam_defense_ttl</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      <literal>TTL</literal> for stale cache entries which are
      served while another client updates the entries. Supported by
      <literal>APC</literal> storage handler.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.collect-normalized-query-trace">
    <term>
     <parameter>mysqlnd_qc.collect_normalized_query_trace</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Collect aggregated normalized query traces? The setting
      has no effect by default. You compile the extension
      using the define
      <literal>NORM_QUERY_TRACE_LOG</literal> to make use of the setting.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.std-data-copy">
    <term>
     <parameter>mysqlnd_qc.std_data_copy</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Default storage handler: copy cached wire data?
      EXPERIMENTAL – use default setting!
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.apc-prefix">
    <term>
     <parameter>mysqlnd_qc.apc_prefix</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      The
      <literal>APC</literal> storage handler stores data in the
      <literal>APC</literal> user cache. The setting sets a prefix to be
      used for cache entries.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.memc-server">
    <term>
     <parameter>mysqlnd_qc.memc_server</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      <literal>MEMCACHE</literal> storage handler: memcache server host.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.memc-port">
    <term>
     <parameter>mysqlnd_qc.memc_port</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      <literal>MEMCACHE</literal> storage handler: memcached server port.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.mysqlnd-qc.sqlite-data-file">
    <term>
     <parameter>mysqlnd_qc.sqlite_data_file</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      <literal>sqlite</literal> storage handler: data file. Any setting
      but <literal>:memory:</literal> may be of little practical value.
     </para>
    </listitem>
   </varlistentry>

  </variablelist>
 </para>
</section>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
