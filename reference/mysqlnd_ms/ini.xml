<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->

<section xml:id="mysqlnd-ms.configuration" xmlns="http://docbook.org/ns/docbook">
 &reftitle.runtime;
 &extension.runtime;
 <para>
  <table>
   <title>Mysqlnd_ms &ConfigureOptions;</title>
   <tgroup cols="4">
    <thead>
     <row>
      <entry>&Name;</entry>
      <entry>&Default;</entry>
      <entry>&Changeable;</entry>
      <entry>&Changelog;</entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>mysqlnd_ms.enable</entry>
      <entry>0</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry>mysqlnd_ms.force_config_usage</entry>
      <entry>0</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry>mysqlnd_ms.ini_file</entry>
      <entry>""</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry>mysqlnd_ms.collect_statistics</entry>
      <entry>0</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry>mysqlnd_ms.multi_master</entry>
      <entry>0</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry>mysqlnd_ms.disable_rw_split</entry>
      <entry>0</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </para>

 &ini.descriptions.title;

 <para>
  <variablelist>

   <varlistentry xml:id="ini.mysqlnd-ms.enable">
    <term>
     <parameter>mysqlnd_ms.enable</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Enables or disables the plugin. If set to disabled, the extension will not plug
      into
      <link linkend="book.mysqlnd">mysqlnd</link> to proxy internal
      <link linkend="book.mysqlnd">mysqlnd</link> C API calls.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="ini.mysqlnd-ms.force-config-usage">
    <term>
     <parameter>mysqlnd_ms.force_config_usage</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      If enabled the plugin checks if the host (server) parameter value of any
      MySQL connection attempt matches a section name from the plugin configuration
      file. If not, the connection attempt is blocked.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="ini.mysqlnd-ms.ini-file">
    <term>
     <parameter>mysqlnd_ms.ini_file</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      Plugin specific configuration file.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="ini.mysqlnd-ms.collect_statistics">
    <term>
     <parameter>mysqlnd_ms.collect_statistics</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Enables or disables the collection of statistics. The collection of
      statistics is disabled by default for performance reasons.
      Statistics are returned by the function
      <function>mysqlnd_ms_get_stats</function>.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="ini.mysqlnd-ms.multi_master">
    <term>
     <parameter>mysqlnd_ms.multi_master</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Enables or disables support of MySQL multi master replication setups.
     </para>
     <para>
      This feature is experimental. It will not be documented before
      reasonable stability has been achieved. It is meant for development
      only.
     </para>
    </listitem>
   </varlistentry>

  	<varlistentry xml:id="ini.mysqlnd-ms.disable_rw_split">
    <term>
     <parameter>mysqlnd_ms.disable_rw_split</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Enables or disables built-in read write splitting.
     </para>
     <para>
      Controls whether load balancing and lazy connection functionality can
      be used independently of read write splitting. If read write splitting
      is disabled only the servers from the master list will be use for
      statement execution. All configured slave servers will be ignored.
     </para>
     <para>
      The SQL hint <literal>MYSQLND_MS_USE_SLAVE</literal> will not be recognized.
      If found, the statement will be redirected to a master.
     </para>
     <para>
      Disabling read write splitting impacts the return value of
      <link linkend="function.mysqlnd-ms-query-is-select"><function>mysqlnd_ms_query_is_select</function></link>.
      The function will no longer propose query execution on slave servers.
     </para>
     <para>
      Please note, that you have to set <literal>mysqlnd_ms.multi_master=1</literal>
      to make the plugin consider more than the first master of the master
      list.
     </para>
    </listitem>
   </varlistentry>

  </variablelist>
 </para>
</section>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
